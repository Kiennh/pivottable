(function(){var t,e=[].indexOf||function(t){for(var e=0,o=this.length;e<o;e++)if(e in this&&this[e]===t)return e;return-1};(t=function(t){return"object"==typeof exports&&"object"==typeof module?t(require("jquery"),require("plotly.js")):"function"==typeof define&&define.amd?define(["jquery","plotly.js"],t):t(jQuery,Plotly)})(function(t,o){var n,r;return n=function(n,r,l){return null==n&&(n={}),null==r&&(r={}),null==l&&(l=!1),function(i,a){var s,h,u,g,p,y,d,c,f,v,m,b,w,j,x,C;if(y={localeStrings:{vs:" of ",by:"by"},plotly:{},plotlyConfig:{}},a=t.extend(!0,{},y,a),w=i.getRowKeys(),s=i.getColKeys(),C=l?s:w,0===C.length&&C.push([]),p=l?w:s,0===p.length&&p.push([]),d=i.aggregatorName,i.valAttrs.length&&(d+="("+i.valAttrs.join(", ")+")"),g=C.map(function(o){var r,a,s,h,u,g,y,c;for(c=[],h=[],s=0,u=p.length;s<u;s++)r=p[s],y=parseFloat(i.getAggregator(l?r:o,l?o:r).value()),c.push(isFinite(y)?y:null),h.push(r.join("-")||" ");return g={name:o.join("-")||d},y(a=e.call(n,o)>=0?n[o]:n),"pie"===a.type?(g.values=c,g.labels=h.length>1?h:[d]):(g.x=l?c:h,g.y=l?h:c),t.extend(g,a)}),l?(f=i.rowAttrs.join("-"),c=i.colAttrs.join("-")):(f=i.colAttrs.join("-"),c=i.rowAttrs.join("-")),x=d,""!==f&&(x+=" "+a.localeStrings.vs+" "+f),""!==c&&(x+=" "+a.localeStrings.by+" "+c),m={title:x,hovermode:"closest",width:window.innerWidth/1.4,height:window.innerHeight/1.4-50},"pie"===n.type){h=Math.ceil(Math.sqrt(g.length)),j=Math.ceil(g.length/h),m.grid={columns:h,rows:j};for(v in g)u=g[v],u.domain={row:Math.floor(v/h),column:v-h*Math.floor(v/h)},g.length>1&&(u.title=u.name);1===g[0].labels.length&&(m.showlegend=!1)}else m.xaxis={title:l?d:null,automargin:!0},m.yaxis={title:l?null:d,automargin:!0};return b=t("<div>").appendTo(t("body")),o.newPlot(b[0],g,t.extend(m,r,a.plotly),a.plotlyConfig),b.detach()}},r=function(){return function(e,n){var r,l,i,a,s,h,u,g,p,y,d,c,f,v;for(a={localeStrings:{vs:"vs",by:"by"},plotly:{},plotlyConfig:{}},n=t.extend(!0,{},a,n),f=e.getRowKeys(),0===f.length&&f.push([]),l=e.getColKeys(),0===l.length&&l.push([]),i={x:[],y:[],text:[],type:"scatter",mode:"markers"},s=0,g=f.length;s<g;s++)for(c=f[s],h=0,p=l.length;h<p;h++)r=l[h],v=e.getAggregator(c,r).value(),null!=v&&(i.x.push(r.join("-")),i.y.push(c.join("-")),i.text.push(v));return u={title:e.rowAttrs.join("-")+" vs "+e.colAttrs.join("-"),hovermode:"closest",xaxis:{title:e.colAttrs.join("-"),automargin:!0},yaxis:{title:e.rowAttrs.join("-"),automargin:!0},width:window.innerWidth/1.5,height:window.innerHeight/1.4-50},y=t("<div>",{style:"display:none;"}).appendTo(t("body")),d=t("<div>").appendTo(y),o.newPlot(d[0],[i],t.extend(u,n.plotly),n.plotlyConfig),d.detach(),y.remove(),d}},t.pivotUtilities.plotly_renderers={"Horizontal Bar Chart":n({type:"bar",orientation:"h"},{barmode:"group"},!0),"Horizontal Stacked Bar Chart":n({type:"bar",orientation:"h"},{barmode:"relative"},!0),"Bar Chart":n({type:"bar"},{barmode:"group"}),"Col Chart":n({type:"bar",orientation:"h"},{barmode:"group"}),"Stacked Bar Chart":n({type:"bar"},{barmode:"relative"}),"Line Chart":n(),"Area Chart":n({stackgroup:1}),"Scatter Chart":r(),"Multiple Pie Chart":n({type:"pie",scalegroup:1,hoverinfo:"label+value",textinfo:"none"},{},!0)}})}).call(this);
//# sourceMappingURL=plotly_renderers.min.js.map
