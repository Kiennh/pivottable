(function(){var t,e=[].indexOf||function(t){for(var e=0,o=this.length;e<o;e++)if(e in this&&this[e]===t)return e;return-1};(t=function(t){return"object"==typeof exports&&"object"==typeof module?t(require("jquery"),require("plotly.js")):"function"==typeof define&&define.amd?define(["jquery","plotly.js"],t):t(jQuery,Plotly)})(function(t,o){var n,r;return n=function(n,r,l){return null==n&&(n={}),null==r&&(r={}),null==l&&(l=!1),function(i,a){var s,h,u,g,p,d,y,c,f,v,m,w,b,j,x,C,A;if(d={localeStrings:{vs:" ofX ",by:"by"},plotly:{},plotlyConfig:{}},y={},e.call(a,n)>=0&&(y=a[n],delete a[n]),a=t.extend(!0,{},d,a),j=i.getRowKeys(),s=i.getColKeys(),A=l?s:j,0===A.length&&A.push([]),p=l?j:s,0===p.length&&p.push([]),c=i.aggregatorName,i.valAttrs.length&&(c+="("+i.valAttrs.join(", ")+")"),g=A.map(function(o){var r,a,s,h,u,g,d,f;for(f=[],h=[],s=0,u=p.length;s<u;s++)r=p[s],d=parseFloat(i.getAggregator(l?r:o,l?o:r).value()),f.push(isFinite(d)?d:null),h.push(r.join("-")||" ");return g={name:o.join("-")||c},a=n,e.call(y,o)>=0&&(a=t.extend(a,y[o])),"pie"===a.type?(g.values=f,g.labels=h.length>1?h:[c]):(g.x=l?f:h,g.y=l?h:f),t.extend(g,a)}),l?(v=i.rowAttrs.join("-"),f=i.colAttrs.join("-")):(v=i.colAttrs.join("-"),f=i.rowAttrs.join("-")),C=c,""!==v&&(C+=" "+a.localeStrings.vs+" "+v),""!==f&&(C+=" "+a.localeStrings.by+" "+f),w={title:C,hovermode:"closest",width:window.innerWidth/1.4,height:window.innerHeight/1.4-50},"pie"===n.type){h=Math.ceil(Math.sqrt(g.length)),x=Math.ceil(g.length/h),w.grid={columns:h,rows:x};for(m in g)u=g[m],u.domain={row:Math.floor(m/h),column:m-h*Math.floor(m/h)},g.length>1&&(u.title=u.name);1===g[0].labels.length&&(w.showlegend=!1)}else w.xaxis={title:l?c:null,automargin:!0},w.yaxis={title:l?null:c,automargin:!0};return b=t("<div>").appendTo(t("body")),o.newPlot(b[0],g,t.extend(w,r,a.plotly),a.plotlyConfig),b.detach()}},r=function(){return function(e,n){var r,l,i,a,s,h,u,g,p,d,y,c,f,v;for(a={localeStrings:{vs:"vs",by:"by"},plotly:{},plotlyConfig:{}},n=t.extend(!0,{},a,n),f=e.getRowKeys(),0===f.length&&f.push([]),l=e.getColKeys(),0===l.length&&l.push([]),i={x:[],y:[],text:[],type:"scatter",mode:"markers"},s=0,g=f.length;s<g;s++)for(c=f[s],h=0,p=l.length;h<p;h++)r=l[h],v=e.getAggregator(c,r).value(),null!=v&&(i.x.push(r.join("-")),i.y.push(c.join("-")),i.text.push(v));return u={title:e.rowAttrs.join("-")+" vs "+e.colAttrs.join("-"),hovermode:"closest",xaxis:{title:e.colAttrs.join("-"),automargin:!0},yaxis:{title:e.rowAttrs.join("-"),automargin:!0},width:window.innerWidth/1.5,height:window.innerHeight/1.4-50},d=t("<div>",{style:"display:none;"}).appendTo(t("body")),y=t("<div>").appendTo(d),o.newPlot(y[0],[i],t.extend(u,n.plotly),n.plotlyConfig),y.detach(),d.remove(),y}},t.pivotUtilities.plotly_renderers={"Horizontal Bar Chart":n({type:"bar",orientation:"h"},{barmode:"group"},!0),"Horizontal Stacked Bar Chart":n({type:"bar",orientation:"h"},{barmode:"relative"},!0),"Bar Chart":n({type:"bar"},{barmode:"group"}),"Stacked Bar Chart":n({type:"bar"},{barmode:"relative"}),"Line Chart":n(),"Area Chart":n({stackgroup:1}),"Scatter Chart":r(),"Multiple Pie Chart":n({type:"pie",scalegroup:1,hoverinfo:"label+value",textinfo:"none"},{},!0)}})}).call(this);
//# sourceMappingURL=plotly_renderers.min.js.map
